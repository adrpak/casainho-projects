#summary Digital bathroom scale which logs weight and data on SD Card]
#labels Featured

= Introduction =

On this project I will hack a digital bathroom scale, for log my weight variations over time, on a memory SD Card. I want write the information on a comma separated values (CSV) file so then I can build a graph using OpenOffice.

Source code plus pictures of current work can be found on [http://code.google.com/p/casainho-projects/source/browse/trunk/sdcard_bathroom_scale/ SVN].

= Details =
== The scale ==
http://casainho-projects.googlecode.com/svn/trunk/sdcard_bathroom_scale/images/sdcard_bathroom_scale-20090703-01.jpg

http://casainho-projects.googlecode.com/svn/trunk/sdcard_bathroom_scale/images/sdcard_bathroom_scale-20090703-07.jpg

== The prototype ==
http://casainho-projects.googlecode.com/svn/trunk/sdcard_bathroom_scale/images/sdcard_bathroom_scale-20090703-08.jpg

[http://blip.tv/file/get/Jpcasainho-sdcad_weight_scale20090718ogm635.ogg Video showing the last advances] -- now the system can show the weight as if it is the original scale.

== Digital Scale LCD signals ==

Here is one image of a backplane signal plus 2 segment signals:
http://casainho-projects.googlecode.com/svn/trunk/sdcard_bathroom_scale/images/osci_image-20090605-11.BMP

== Pin connections to the LPC2103 ==
{{{
Scale LCD input
Pin nr	| LPC2103 pin
---------------------
 1	| P0.0
 2	| P0.1
 3	| P0.2
 4	| P0.3
 5	| P0.8
 6	| P0.9
 7	| P0.10
 8	| P0.11
 9	| P0.12
10	| P0.13
11	| P0.14
12	| P0.15
13	| P0.16 (EINT0 - external interrupt used. This is a signal from backplane 1)


LCD module output
 * -LCD ------------------------|-connected to-----
 *  1  - GND                    | GND
 *  2  - Vcc                    | Vcc ~= + 5 volts
 *  3  - Contrast               | 0,91V
 *  4  - _RS                    | P0.17
 *  5  - _R/W                   | P0.18
 *  6  - E                      | P0.19
 *  11 - DB4                    | P0.20
 *  12 - DB5                    | P0.21
 *  13 - DB6                    | P0.22
 *  14 - DB7                    | P0.23

SD Card
P0.4 SCK  SPI bus
P0.5 MISO SPI bus
P0.6 MOSI SPI bus
P0.7 SSEL SPI bus
}}}

== Fat file system drivers ==

I will use [http://elm-chan.org/fsw/ff/00index_e.html FatFs] file system drivers which have a Free Software license. 